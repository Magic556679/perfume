(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6bc6dbc4"],{"007b":function(t,e,c){},1726:function(t,e,c){"use strict";c("007b")},"1dde":function(t,e,c){var o=c("d039"),n=c("b622"),r=c("2d00"),a=n("species");t.exports=function(t){return r>=51||!o((function(){var e=[],c=e.constructor={};return c[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"395d":function(t,e,c){"use strict";c.r(e);var o=c("7a23"),n={key:0,class:"container min mt-5"},r={key:0,class:"row justify-content-center"},a={class:"col-md-8"},i={class:"d-flex justify-content-between"},l=Object(o["createVNode"])("button",{type:"button",class:"\n                  btn-pink rounded py-2 shadow-none",style:{border:"none"}},"繼續購物",-1),d={class:"table align-middle text-center mt-5"},u=Object(o["createVNode"])("thead",null,[Object(o["createVNode"])("tr",null,[Object(o["createVNode"])("th",{class:"d-none d-lg-table-cell"}),Object(o["createVNode"])("th",null,"品名"),Object(o["createVNode"])("th",{width:"130px"},"數量"),Object(o["createVNode"])("th",null,"金額"),Object(o["createVNode"])("th",null,"刪除")])],-1),s={class:"d-none d-lg-table-cell"},b={class:"input-group my-3 bg-secondary rounded"},p={class:"input-group-prepend"},f=Object(o["createVNode"])("i",{class:"bi bi-plus-lg"},null,-1),j={class:"input-group-append"},O=Object(o["createVNode"])("i",{class:"bi bi-dash-lg"},null,-1),h={class:""},g=Object(o["createVNode"])("i",{class:"bi bi-trash"},null,-1),N=Object(o["createVNode"])("td",{colspan:"3",class:"text-end"},"總計",-1),v=Object(o["createVNode"])("td",{class:"d-none d-lg-table-cell"},null,-1),y={class:"text-end"},V={key:0},m=Object(o["createVNode"])("td",{colspan:"3",class:"text-end text-success"},"折扣價",-1),k=Object(o["createVNode"])("td",{class:"d-none d-lg-table-cell"},null,-1),x={class:"text-end\n                            text-success"},C={class:"input-group"},w={class:"input-group-prepend"},B={key:1},$=Object(o["createVNode"])("h2",{class:"text-center"},"購物車少於1",-1);function D(t,e,c,D,A,L){var T=Object(o["resolveComponent"])("Loading");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],null,[Object(o["createVNode"])(T,{active:A.isLoading,"z-index":1060},null,8,["active"]),A.cart.carts?(Object(o["openBlock"])(),Object(o["createBlock"])("div",n,[A.cart.carts.length>0?(Object(o["openBlock"])(),Object(o["createBlock"])("div",r,[Object(o["createVNode"])("div",a,[Object(o["createVNode"])("div",i,[l,Object(o["createVNode"])("button",{type:"button",class:"\n                  btn-pink rounded py-2 shadow-none",style:{border:"none"},onClick:e[1]||(e[1]=function(e){return t.$router.push("/order")})},"填寫訂單")]),Object(o["createVNode"])("table",d,[u,Object(o["createVNode"])("tbody",null,[A.cart.carts?(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],{key:0},Object(o["renderList"])(A.cart.carts,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])("tr",{key:e.id},[Object(o["createVNode"])("td",s,[Object(o["createVNode"])("img",{src:e.product.imageUrl},null,8,["src"])]),Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(e.product.title),1),Object(o["createVNode"])("td",null,[Object(o["createVNode"])("div",b,[Object(o["createVNode"])("div",p,[Object(o["createVNode"])("button",{class:"btn btn-outline-dark border-0 py-2",type:"button",onClick:function(t){return L.upDateCart(e.id,e.qty+1)}},[f],8,["onClick"])]),Object(o["withDirectives"])(Object(o["createVNode"])("input",{type:"text",class:"form-control border-0 text-center\n                              my-auto shadow-none bg-light",placeholder:"","aria-label":"Example text with button addon","aria-describedby":"button-addon1","onUpdate:modelValue":function(t){return e.qty=t},disabled:"value"},null,8,["onUpdate:modelValue"]),[[o["vModelText"],e.qty]]),Object(o["createVNode"])("div",j,[Object(o["createVNode"])("button",{class:"btn btn-outline-dark border-0 py-2",type:"button",onClick:function(t){return L.upDateCart(e.id,e.qty-1)},disabled:1===e.qty},[O],8,["onClick","disabled"])])])]),Object(o["createVNode"])("td",h," NT$"+Object(o["toDisplayString"])(t.$toCurrency(e.final_total)),1),Object(o["createVNode"])("td",null,[Object(o["createVNode"])("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:function(t){return L.removeCartItem(e.id)}},[g],8,["onClick"])])])})),128)):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])("tr",null,[N,v,Object(o["createVNode"])("td",y,"$NT"+Object(o["toDisplayString"])(t.$toCurrency(A.cart.total)),1)]),A.cart.final_total!==A.cart.total?(Object(o["openBlock"])(),Object(o["createBlock"])("tr",V,[m,k,Object(o["createVNode"])("td",x,"$NT"+Object(o["toDisplayString"])(t.$toCurrency(A.cart.final_total)),1)])):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])("div",C,[Object(o["createVNode"])("div",w,[Object(o["createVNode"])("button",{class:"input-group-text btn-pink",id:"btnGroupAddon2",onClick:e[2]||(e[2]=function(t){return L.coupon()})},"套用優惠券")]),Object(o["withDirectives"])(Object(o["createVNode"])("input",{type:"text",class:"form-control",placeholder:"輸入優惠卷","aria-label":"Input group example","aria-describedby":"btnGroupAddon2","onUpdate:modelValue":e[3]||(e[3]=function(t){return A.couponNum.code=t})},null,512),[[o["vModelText"],A.couponNum.code]])])])])):(Object(o["openBlock"])(),Object(o["createBlock"])("div",B,[$]))])):Object(o["createCommentVNode"])("",!0)],64)}c("99af");var A=c("e4f3"),L={data:function(){return{cart:{},isLoading:!1,couponNum:{code:""}}},methods:{getCarts:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("wu9zo4s","/cart");this.isLoading=!0,this.$http.get(e).then((function(e){t.cart=e.data.data,t.isLoading=!1,console.log(e)}))},removeCartItem:function(t){var e=this;this.isLoading=!0;var c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("wu9zo4s","/cart/").concat(t);this.$http.delete(c).then((function(t){A["a"].emit("update-cart"),console.log(t),e.getCarts(),e.isLoading=!1}))},upDateCart:function(t,e){var c=this,o="".concat("https://vue3-course-api.hexschool.io","/api/").concat("wu9zo4s","/cart/").concat(t),n={product_id:t,qty:e};this.$http.put(o,{data:n}).then((function(t){console.log(t),c.getCarts()}))},coupon:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("wu9zo4s","/coupon");this.$http.post(e,{data:this.couponNum}).then((function(e){console.log(e),t.getCarts()}))}},mounted:function(){this.getCarts(),console.log(this.couponNum.code)}};c("1726");L.render=D;e["default"]=L},"65f0":function(t,e,c){var o=c("861d"),n=c("e8b5"),r=c("b622"),a=r("species");t.exports=function(t,e){var c;return n(t)&&(c=t.constructor,"function"!=typeof c||c!==Array&&!n(c.prototype)?o(c)&&(c=c[a],null===c&&(c=void 0)):c=void 0),new(void 0===c?Array:c)(0===e?0:e)}},8418:function(t,e,c){"use strict";var o=c("c04e"),n=c("9bf2"),r=c("5c6c");t.exports=function(t,e,c){var a=o(e);a in t?n.f(t,a,r(0,c)):t[a]=c}},"99af":function(t,e,c){"use strict";var o=c("23e7"),n=c("d039"),r=c("e8b5"),a=c("861d"),i=c("7b0b"),l=c("50c4"),d=c("8418"),u=c("65f0"),s=c("1dde"),b=c("b622"),p=c("2d00"),f=b("isConcatSpreadable"),j=9007199254740991,O="Maximum allowed index exceeded",h=p>=51||!n((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),g=s("concat"),N=function(t){if(!a(t))return!1;var e=t[f];return void 0!==e?!!e:r(t)},v=!h||!g;o({target:"Array",proto:!0,forced:v},{concat:function(t){var e,c,o,n,r,a=i(this),s=u(a,0),b=0;for(e=-1,o=arguments.length;e<o;e++)if(r=-1===e?a:arguments[e],N(r)){if(n=l(r.length),b+n>j)throw TypeError(O);for(c=0;c<n;c++,b++)c in r&&d(s,b,r[c])}else{if(b>=j)throw TypeError(O);d(s,b++,r)}return s.length=b,s}})},e4f3:function(t,e,c){"use strict";var o=function(t){return{all:t=t||new Map,on:function(e,c){var o=t.get(e);o?o.push(c):t.set(e,[c])},off:function(e,c){var o=t.get(e);o&&(c?o.splice(o.indexOf(c)>>>0,1):t.set(e,[]))},emit:function(e,c){var o=t.get(e);o&&o.slice().map((function(t){t(c)})),(o=t.get("*"))&&o.slice().map((function(t){t(e,c)}))}}},n=o();e["a"]=n},e8b5:function(t,e,c){var o=c("c6b6");t.exports=Array.isArray||function(t){return"Array"==o(t)}}}]);
//# sourceMappingURL=chunk-6bc6dbc4.03b6ba3b.js.map