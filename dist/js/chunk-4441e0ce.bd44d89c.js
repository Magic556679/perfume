(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4441e0ce"],{"1dde":function(t,e,n){var r=n("d039"),c=n("b622"),o=n("2d00"),i=c("species");t.exports=function(t){return o>=51||!r((function(){var e=[],n=e.constructor={};return n[i]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},2532:function(t,e,n){"use strict";var r=n("23e7"),c=n("5a34"),o=n("1d80"),i=n("ab13");r({target:"String",proto:!0,forced:!i("includes")},{includes:function(t){return!!~String(o(this)).indexOf(c(t),arguments.length>1?arguments[1]:void 0)}})},"3fe1":function(t,e,n){"use strict";n("7587")},"5a34":function(t,e,n){var r=n("44e7");t.exports=function(t){if(r(t))throw TypeError("The method doesn't accept regular expressions");return t}},7587:function(t,e,n){},8418:function(t,e,n){"use strict";var r=n("c04e"),c=n("9bf2"),o=n("5c6c");t.exports=function(t,e,n){var i=r(e);i in t?c.f(t,i,o(0,n)):t[i]=n}},"99af":function(t,e,n){"use strict";var r=n("23e7"),c=n("d039"),o=n("e8b5"),i=n("861d"),a=n("7b0b"),s=n("50c4"),d=n("8418"),u=n("65f0"),l=n("1dde"),f=n("b622"),h=n("2d00"),p=f("isConcatSpreadable"),v=9007199254740991,b="Maximum allowed index exceeded",m=h>=51||!c((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),g=l("concat"),y=function(t){if(!i(t))return!1;var e=t[p];return void 0!==e?!!e:o(t)},O=!m||!g;r({target:"Array",proto:!0,forced:O},{concat:function(t){var e,n,r,c,o,i=a(this),l=u(i,0),f=0;for(e=-1,r=arguments.length;e<r;e++)if(o=-1===e?i:arguments[e],y(o)){if(c=s(o.length),f+c>v)throw TypeError(b);for(n=0;n<c;n++,f++)n in o&&d(l,f,o[n])}else{if(f>=v)throw TypeError(b);d(l,f++,o)}return l.length=f,l}})},a09f:function(t,e,n){"use strict";n.r(e);n("caad"),n("2532");var r=n("7a23"),c={id:"favorite"},o=Object(r["createStaticVNode"])('<header><div class="container h-100"><div class="row align-items-center justify-content-center h-100"><div class="col-md-6 col-12"><div class="headerTitle"><h1 class="text-center">收藏清單</h1></div></div></div></div></header>',1),i={class:"container min mt-5",id:"favorite"},a={key:0,class:"row"},s={class:"card border-0 mb-4 position-relative"},d={class:"card-body p-0"},u={class:"mb-0 mt-3 text-dark"},l={class:"text-muted mt-3"},f={class:"d-flex justify-content-between"},h=Object(r["createVNode"])("button",{type:"button",class:"btn btn-secondary round-0 py-2"},"查看更多",-1),p={key:1,class:"row d-flex align-items-center justify-content-center"},v={class:"col-md-8 text-center"},b=Object(r["createVNode"])("h2",null,"收藏清單無商品",-1);function m(t,e,n,m,g,y){var O=Object(r["resolveComponent"])("Loading"),j=Object(r["resolveComponent"])("router-link");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[Object(r["createVNode"])(O,{active:g.isLoading,"z-index":1060},null,8,["active"]),Object(r["createVNode"])("div",c,[o,Object(r["createVNode"])("div",i,[this.myFavorite.length>0?(Object(r["openBlock"])(),Object(r["createBlock"])("div",a,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(y.filterProducts,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])("div",{class:"col-md-3",key:e.id},[Object(r["createVNode"])("div",s,[Object(r["createVNode"])("img",{src:e.imageUrl,class:"card-img-top rounded-0",alt:"..."},null,8,["src"]),Object(r["createVNode"])("a",{href:"#",class:"text-dark position-absolute",style:{right:"20px",top:"8px","font-size":"2rem"},onClick:Object(r["withModifiers"])((function(t){return y.addMyFavorite(e)}),["prevent"])},[Object(r["createVNode"])("i",{class:["bi bi-suit-heart-fill",{active:g.myFavorite.includes(e.id)}]},null,2)],8,["onClick"]),Object(r["createVNode"])("div",d,[Object(r["createVNode"])("h4",u,Object(r["toDisplayString"])(e.title),1),Object(r["createVNode"])("p",l,"NT$ "+Object(r["toDisplayString"])(t.$toCurrency(e.price)),1),Object(r["createVNode"])("div",f,[Object(r["createVNode"])("button",{type:"button",class:"btn btn-dark btn-pink\n                                round-0 py-2",onClick:function(t){return y.addToCart(e.id)}},"加入購物車",8,["onClick"]),Object(r["createVNode"])(j,{to:"/product/".concat(e.id),style:{"text-decoration":"none"}},{default:Object(r["withCtx"])((function(){return[h]})),_:2},1032,["to"])])])])])})),128))])):(Object(r["openBlock"])(),Object(r["createBlock"])("div",p,[Object(r["createVNode"])("div",v,[b,Object(r["createVNode"])("button",{type:"button",class:"\n                    btn-pink rounded py-2 px-3 shadow-none mt-5",style:{border:"none"},onClick:e[1]||(e[1]=function(e){return t.$router.push("/products")})},"前往購物")])]))])])],64)}n("99af"),n("a434"),n("159b");var g=n("e4f3"),y={save:function(t){var e=JSON.stringify(t);localStorage.setItem("hexFavorite",e)},get:function(){return JSON.parse(localStorage.getItem("hexFavorite"))}},O={data:function(){return{products:[],myFavorite:y.get()||[],isLoading:!1}},methods:{getProducts:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("wu9zo4s","/products/all");this.isLoading=!0,this.$http.get(e).then((function(e){t.products=e.data.products,t.isLoading=!1}))},addToCart:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r="".concat("https://vue3-course-api.hexschool.io","/api/").concat("wu9zo4s","/cart"),c={product_id:t,qty:n};this.$http.post(r,{data:c}).then((function(t){g["a"].emit("update-cart"),e.$swal(t.data.message)}))},addMyFavorite:function(t){this.myFavorite.includes(t.id)?(this.myFavorite.splice(this.myFavorite.indexOf(t.id),1),this.$swal({title:"已從收藏移除",icon:"error"})):(this.myFavorite.push(t.id),this.$swal({title:"已加入收藏",icon:"success"})),y.save(this.myFavorite),this.FavoriteNum=this.myFavorite.length,g["a"].emit("favorite-num",this.FavoriteNum)}},computed:{filterProducts:function(){var t=this,e=[];return this.products.forEach((function(n){t.myFavorite.includes(n.id)&&e.push(n)})),e}},mounted:function(){this.getProducts()}};n("3fe1");O.render=m;e["default"]=O},a434:function(t,e,n){"use strict";var r=n("23e7"),c=n("23cb"),o=n("a691"),i=n("50c4"),a=n("7b0b"),s=n("65f0"),d=n("8418"),u=n("1dde"),l=u("splice"),f=Math.max,h=Math.min,p=9007199254740991,v="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!l},{splice:function(t,e){var n,r,u,l,b,m,g=a(this),y=i(g.length),O=c(t,y),j=arguments.length;if(0===j?n=r=0:1===j?(n=0,r=y-O):(n=j-2,r=h(f(o(e),0),y-O)),y+n-r>p)throw TypeError(v);for(u=s(g,r),l=0;l<r;l++)b=O+l,b in g&&d(u,l,g[b]);if(u.length=r,n<r){for(l=O;l<y-r;l++)b=l+r,m=l+n,b in g?g[m]=g[b]:delete g[m];for(l=y;l>y-r+n;l--)delete g[l-1]}else if(n>r)for(l=y-r;l>O;l--)b=l+r-1,m=l+n-1,b in g?g[m]=g[b]:delete g[m];for(l=0;l<n;l++)g[l+O]=arguments[l+2];return g.length=y-r+n,u}})},ab13:function(t,e,n){var r=n("b622"),c=r("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[c]=!1,"/./"[t](e)}catch(r){}}return!1}},caad:function(t,e,n){"use strict";var r=n("23e7"),c=n("4d64").includes,o=n("44d2");r({target:"Array",proto:!0},{includes:function(t){return c(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")},e4f3:function(t,e,n){"use strict";var r=function(t){return{all:t=t||new Map,on:function(e,n){var r=t.get(e);r?r.push(n):t.set(e,[n])},off:function(e,n){var r=t.get(e);r&&(n?r.splice(r.indexOf(n)>>>0,1):t.set(e,[]))},emit:function(e,n){var r=t.get(e);r&&r.slice().map((function(t){t(n)})),(r=t.get("*"))&&r.slice().map((function(t){t(e,n)}))}}},c=r();e["a"]=c}}]);
//# sourceMappingURL=chunk-4441e0ce.bd44d89c.js.map