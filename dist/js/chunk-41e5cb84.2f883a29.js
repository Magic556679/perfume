(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-41e5cb84"],{"1dde":function(t,e,n){var o=n("d039"),r=n("b622"),c=n("2d00"),i=r("species");t.exports=function(t){return c>=51||!o((function(){var e=[],n=e.constructor={};return n[i]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},2532:function(t,e,n){"use strict";var o=n("23e7"),r=n("5a34"),c=n("1d80"),i=n("ab13");o({target:"String",proto:!0,forced:!i("includes")},{includes:function(t){return!!~String(c(this)).indexOf(r(t),arguments.length>1?arguments[1]:void 0)}})},"5a34":function(t,e,n){var o=n("44e7");t.exports=function(t){if(o(t))throw TypeError("The method doesn't accept regular expressions");return t}},"749c":function(t,e,n){},8418:function(t,e,n){"use strict";var o=n("c04e"),r=n("9bf2"),c=n("5c6c");t.exports=function(t,e,n){var i=o(e);i in t?r.f(t,i,c(0,n)):t[i]=n}},"99af":function(t,e,n){"use strict";var o=n("23e7"),r=n("d039"),c=n("e8b5"),i=n("861d"),a=n("7b0b"),s=n("50c4"),d=n("8418"),u=n("65f0"),l=n("1dde"),f=n("b622"),p=n("2d00"),h=f("isConcatSpreadable"),b=9007199254740991,v="Maximum allowed index exceeded",m=p>=51||!r((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),g=l("concat"),y=function(t){if(!i(t))return!1;var e=t[h];return void 0!==e?!!e:c(t)},O=!m||!g;o({target:"Array",proto:!0,forced:O},{concat:function(t){var e,n,o,r,c,i=a(this),l=u(i,0),f=0;for(e=-1,o=arguments.length;e<o;e++)if(c=-1===e?i:arguments[e],y(c)){if(r=s(c.length),f+r>b)throw TypeError(v);for(n=0;n<r;n++,f++)n in c&&d(l,f,c[n])}else{if(f>=b)throw TypeError(v);d(l,f++,c)}return l.length=f,l}})},a09f:function(t,e,n){"use strict";n.r(e);n("caad"),n("2532");var o=n("7a23"),r={class:"container min mt-5",id:"favorite"},c={key:0,class:"row"},i={class:"card border-0 mb-4 position-relative"},a={class:"card-body p-0"},s={class:"mb-0 mt-3 text-dark"},d={class:"text-muted mt-3"},u={class:"d-flex justify-content-between"},l=Object(o["createVNode"])("button",{type:"button",class:"btn btn-secondary round-0 py-2"},"查看更多",-1),f={key:1,class:"row d-flex align-items-center justify-content-center"},p={class:"col-md-8 text-center"},h=Object(o["createVNode"])("h2",null,"我的最愛無商品",-1);function b(t,e,n,b,v,m){var g=Object(o["resolveComponent"])("Loading"),y=Object(o["resolveComponent"])("router-link");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],null,[Object(o["createVNode"])(g,{active:v.isLoading,"z-index":1060},null,8,["active"]),Object(o["createVNode"])("div",null,[Object(o["createVNode"])("div",r,[this.myFavorite.length>0?(Object(o["openBlock"])(),Object(o["createBlock"])("div",c,[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(m.filterProducts,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])("div",{class:"col-md-3",key:e.id},[Object(o["createVNode"])("div",i,[Object(o["createVNode"])("img",{src:e.imageUrl,class:"card-img-top rounded-0",alt:"..."},null,8,["src"]),Object(o["createVNode"])("a",{href:"#",class:"text-dark position-absolute",style:{right:"20px",top:"8px","font-size":"2rem"},onClick:Object(o["withModifiers"])((function(t){return m.addMyFavorite(e)}),["prevent"])},[Object(o["createVNode"])("i",{class:["bi bi-suit-heart-fill",{active:v.myFavorite.includes(e.id)}]},null,2)],8,["onClick"]),Object(o["createVNode"])("div",a,[Object(o["createVNode"])("h4",s,Object(o["toDisplayString"])(e.title),1),Object(o["createVNode"])("p",d,"NT$ "+Object(o["toDisplayString"])(t.$toCurrency(e.price)),1),Object(o["createVNode"])("div",u,[Object(o["createVNode"])("button",{type:"button",class:"btn btn-dark btn-pink\n                                round-0 py-2",onClick:function(t){return m.addToCart(e.id)}},"加入購物車",8,["onClick"]),Object(o["createVNode"])(y,{to:"/product/".concat(e.id),style:{"text-decoration":"none"}},{default:Object(o["withCtx"])((function(){return[l]})),_:2},1032,["to"])])])])])})),128))])):(Object(o["openBlock"])(),Object(o["createBlock"])("div",f,[Object(o["createVNode"])("div",p,[h,Object(o["createVNode"])("button",{type:"button",class:"\n                    btn-pink rounded py-2 px-3 shadow-none mt-5",style:{border:"none"},onClick:e[1]||(e[1]=function(e){return t.$router.push("/products")})},"前往購物")])]))])])],64)}n("99af"),n("a434"),n("159b");var v=n("e4f3"),m={save:function(t){var e=JSON.stringify(t);localStorage.setItem("hexFavorite",e)},get:function(){return JSON.parse(localStorage.getItem("hexFavorite"))}},g={data:function(){return{products:[],myFavorite:m.get()||[],isLoading:!1}},methods:{getProducts:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("wu9zo4s","/products/all");this.isLoading=!0,this.$http.get(e).then((function(e){t.products=e.data.products,t.isLoading=!1}))},addToCart:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o="".concat("https://vue3-course-api.hexschool.io","/api/").concat("wu9zo4s","/cart"),r={product_id:t,qty:n};this.$http.post(o,{data:r}).then((function(t){v["a"].emit("update-cart"),e.$swal(t.data.message)}))},addMyFavorite:function(t){this.myFavorite.includes(t.id)?this.myFavorite.splice(this.myFavorite.indexOf(t.id),1):this.myFavorite.push(t.id),m.save(this.myFavorite),this.FavoriteNum=this.myFavorite.length,v["a"].emit("favorite-num",this.FavoriteNum)}},computed:{filterProducts:function(){var t=this,e=[];return this.products.forEach((function(n){t.myFavorite.includes(n.id)&&e.push(n)})),e}},mounted:function(){this.getProducts()}};n("f594");g.render=b;e["default"]=g},a434:function(t,e,n){"use strict";var o=n("23e7"),r=n("23cb"),c=n("a691"),i=n("50c4"),a=n("7b0b"),s=n("65f0"),d=n("8418"),u=n("1dde"),l=u("splice"),f=Math.max,p=Math.min,h=9007199254740991,b="Maximum allowed length exceeded";o({target:"Array",proto:!0,forced:!l},{splice:function(t,e){var n,o,u,l,v,m,g=a(this),y=i(g.length),O=r(t,y),j=arguments.length;if(0===j?n=o=0:1===j?(n=0,o=y-O):(n=j-2,o=p(f(c(e),0),y-O)),y+n-o>h)throw TypeError(b);for(u=s(g,o),l=0;l<o;l++)v=O+l,v in g&&d(u,l,g[v]);if(u.length=o,n<o){for(l=O;l<y-o;l++)v=l+o,m=l+n,v in g?g[m]=g[v]:delete g[m];for(l=y;l>y-o+n;l--)delete g[l-1]}else if(n>o)for(l=y-o;l>O;l--)v=l+o-1,m=l+n-1,v in g?g[m]=g[v]:delete g[m];for(l=0;l<n;l++)g[l+O]=arguments[l+2];return g.length=y-o+n,u}})},ab13:function(t,e,n){var o=n("b622"),r=o("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,"/./"[t](e)}catch(o){}}return!1}},caad:function(t,e,n){"use strict";var o=n("23e7"),r=n("4d64").includes,c=n("44d2");o({target:"Array",proto:!0},{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),c("includes")},e4f3:function(t,e,n){"use strict";var o=function(t){return{all:t=t||new Map,on:function(e,n){var o=t.get(e);o?o.push(n):t.set(e,[n])},off:function(e,n){var o=t.get(e);o&&(n?o.splice(o.indexOf(n)>>>0,1):t.set(e,[]))},emit:function(e,n){var o=t.get(e);o&&o.slice().map((function(t){t(n)})),(o=t.get("*"))&&o.slice().map((function(t){t(e,n)}))}}},r=o();e["a"]=r},f594:function(t,e,n){"use strict";n("749c")}}]);
//# sourceMappingURL=chunk-41e5cb84.2f883a29.js.map