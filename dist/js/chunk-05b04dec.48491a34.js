(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-05b04dec"],{"10e6":function(e,t,c){"use strict";c("f892")},"1dde":function(e,t,c){var r=c("d039"),o=c("b622"),n=c("2d00"),i=o("species");e.exports=function(e){return n>=51||!r((function(){var t=[],c=t.constructor={};return c[i]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},2532:function(e,t,c){"use strict";var r=c("23e7"),o=c("5a34"),n=c("1d80"),i=c("ab13");r({target:"String",proto:!0,forced:!i("includes")},{includes:function(e){return!!~String(n(this)).indexOf(o(e),arguments.length>1?arguments[1]:void 0)}})},"5a34":function(e,t,c){var r=c("44e7");e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},8418:function(e,t,c){"use strict";var r=c("c04e"),o=c("9bf2"),n=c("5c6c");e.exports=function(e,t,c){var i=r(t);i in e?o.f(e,i,n(0,c)):e[i]=c}},"99af":function(e,t,c){"use strict";var r=c("23e7"),o=c("d039"),n=c("e8b5"),i=c("861d"),a=c("7b0b"),d=c("50c4"),s=c("8418"),u=c("65f0"),l=c("1dde"),f=c("b622"),v=c("2d00"),b=f("isConcatSpreadable"),h=9007199254740991,p="Maximum allowed index exceeded",O=v>=51||!o((function(){var e=[];return e[b]=!1,e.concat()[0]!==e})),j=l("concat"),m=function(e){if(!i(e))return!1;var t=e[b];return void 0!==t?!!t:n(e)},g=!O||!j;r({target:"Array",proto:!0,forced:g},{concat:function(e){var t,c,r,o,n,i=a(this),l=u(i,0),f=0;for(t=-1,r=arguments.length;t<r;t++)if(n=-1===t?i:arguments[t],m(n)){if(o=d(n.length),f+o>h)throw TypeError(p);for(c=0;c<o;c++,f++)c in n&&s(l,f,n[c])}else{if(f>=h)throw TypeError(p);s(l,f++,n)}return l.length=f,l}})},a09f:function(e,t,c){"use strict";c.r(t);c("caad"),c("2532");var r=c("7a23"),o=Object(r["createVNode"])("div",{class:"loadingio-spinner-spin-rvvfjvnp9z"},[Object(r["createVNode"])("div",{class:"ldio-hqeuxluc1v"},[Object(r["createVNode"])("div",null,[Object(r["createVNode"])("div")]),Object(r["createVNode"])("div",null,[Object(r["createVNode"])("div")]),Object(r["createVNode"])("div",null,[Object(r["createVNode"])("div")]),Object(r["createVNode"])("div",null,[Object(r["createVNode"])("div")]),Object(r["createVNode"])("div",null,[Object(r["createVNode"])("div")]),Object(r["createVNode"])("div",null,[Object(r["createVNode"])("div")]),Object(r["createVNode"])("div",null,[Object(r["createVNode"])("div")]),Object(r["createVNode"])("div",null,[Object(r["createVNode"])("div")])])],-1),n={id:"favorite"},i=Object(r["createStaticVNode"])('<header><div class="container h-100"><div class="row align-items-center justify-content-center h-100"><div class="col-md-6 col-12"><div class="headerTitle"><h1 class="text-center">收藏清單</h1></div></div></div></div></header>',1),a={class:"container min mt-5",id:"favorite"},d={key:0,class:"row"},s={class:"card border-0 mb-4 position-relative"},u={class:"card-body p-0"},l={class:"mb-0 mt-3 text-dark"},f={class:"text-muted mt-3"},v={class:"d-flex justify-content-between"},b=Object(r["createVNode"])("button",{type:"button",class:"btn btn-secondary round-0 py-2"},"查看更多",-1),h={key:1,class:"row d-flex align-items-center justify-content-center"},p={class:"col-md-8 text-center"},O=Object(r["createVNode"])("h2",null,"收藏清單無商品",-1);function j(e,t,c,j,m,g){var y=Object(r["resolveComponent"])("Loading"),N=Object(r["resolveComponent"])("router-link");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[Object(r["createVNode"])(y,{active:m.isLoading,"z-index":1060},{default:Object(r["withCtx"])((function(){return[o]})),_:1},8,["active"]),Object(r["createVNode"])("div",n,[i,Object(r["createVNode"])("div",a,[this.myFavorite.length>0?(Object(r["openBlock"])(),Object(r["createBlock"])("div",d,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(g.filterProducts,(function(t){return Object(r["openBlock"])(),Object(r["createBlock"])("div",{class:"col-md-3",key:t.id},[Object(r["createVNode"])("div",s,[Object(r["createVNode"])("img",{src:t.imageUrl,class:"card-img-top rounded-0",alt:"..."},null,8,["src"]),Object(r["createVNode"])("a",{href:"#",class:"text-dark position-absolute",style:{right:"20px",top:"8px","font-size":"2rem"},onClick:Object(r["withModifiers"])((function(e){return g.addMyFavorite(t)}),["prevent"])},[Object(r["createVNode"])("i",{class:["bi bi-suit-heart-fill",{active:m.myFavorite.includes(t.id)}]},null,2)],8,["onClick"]),Object(r["createVNode"])("div",u,[Object(r["createVNode"])("h4",l,Object(r["toDisplayString"])(t.title),1),Object(r["createVNode"])("p",f,"NT$ "+Object(r["toDisplayString"])(e.$toCurrency(t.price)),1),Object(r["createVNode"])("div",v,[Object(r["createVNode"])("button",{type:"button",class:"btn btn-dark btn-pink\n                                round-0 py-2",onClick:function(e){return g.addToCart(t.id)}},"加入購物車",8,["onClick"]),Object(r["createVNode"])(N,{to:"/product/".concat(t.id),style:{"text-decoration":"none"}},{default:Object(r["withCtx"])((function(){return[b]})),_:2},1032,["to"])])])])])})),128))])):(Object(r["openBlock"])(),Object(r["createBlock"])("div",h,[Object(r["createVNode"])("div",p,[O,Object(r["createVNode"])("button",{type:"button",class:"\n                    btn-pink rounded py-2 px-3 shadow-none mt-5",style:{border:"none"},onClick:t[1]||(t[1]=function(t){return e.$router.push("/products")})},"前往購物")])]))])])],64)}c("99af"),c("a434"),c("159b");var m=c("e4f3"),g={save:function(e){var t=JSON.stringify(e);localStorage.setItem("hexFavorite",t)},get:function(){return JSON.parse(localStorage.getItem("hexFavorite"))}},y={data:function(){return{products:[],myFavorite:g.get()||[],isLoading:!1}},methods:{getProducts:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("wu9zo4s","/products/all");this.isLoading=!0,this.$http.get(t).then((function(t){e.products=t.data.products,e.isLoading=!1}))},addToCart:function(e){var t=this,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r="".concat("https://vue3-course-api.hexschool.io","/api/").concat("wu9zo4s","/cart"),o={product_id:e,qty:c};this.$http.post(r,{data:o}).then((function(e){m["a"].emit("update-cart"),t.$swal(e.data.message)}))},addMyFavorite:function(e){this.myFavorite.includes(e.id)?(this.myFavorite.splice(this.myFavorite.indexOf(e.id),1),this.$swal({title:"已從收藏移除",icon:"error"})):(this.myFavorite.push(e.id),this.$swal({title:"已加入收藏",icon:"success"})),g.save(this.myFavorite),this.FavoriteNum=this.myFavorite.length,m["a"].emit("favorite-num",this.FavoriteNum)}},computed:{filterProducts:function(){var e=this,t=[];return this.products.forEach((function(c){e.myFavorite.includes(c.id)&&t.push(c)})),t}},mounted:function(){this.getProducts()}};c("10e6");y.render=j;t["default"]=y},a434:function(e,t,c){"use strict";var r=c("23e7"),o=c("23cb"),n=c("a691"),i=c("50c4"),a=c("7b0b"),d=c("65f0"),s=c("8418"),u=c("1dde"),l=u("splice"),f=Math.max,v=Math.min,b=9007199254740991,h="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!l},{splice:function(e,t){var c,r,u,l,p,O,j=a(this),m=i(j.length),g=o(e,m),y=arguments.length;if(0===y?c=r=0:1===y?(c=0,r=m-g):(c=y-2,r=v(f(n(t),0),m-g)),m+c-r>b)throw TypeError(h);for(u=d(j,r),l=0;l<r;l++)p=g+l,p in j&&s(u,l,j[p]);if(u.length=r,c<r){for(l=g;l<m-r;l++)p=l+r,O=l+c,p in j?j[O]=j[p]:delete j[O];for(l=m;l>m-r+c;l--)delete j[l-1]}else if(c>r)for(l=m-r;l>g;l--)p=l+r-1,O=l+c-1,p in j?j[O]=j[p]:delete j[O];for(l=0;l<c;l++)j[l+g]=arguments[l+2];return j.length=m-r+c,u}})},ab13:function(e,t,c){var r=c("b622"),o=r("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(c){try{return t[o]=!1,"/./"[e](t)}catch(r){}}return!1}},caad:function(e,t,c){"use strict";var r=c("23e7"),o=c("4d64").includes,n=c("44d2");r({target:"Array",proto:!0},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n("includes")},e4f3:function(e,t,c){"use strict";var r=function(e){return{all:e=e||new Map,on:function(t,c){var r=e.get(t);r?r.push(c):e.set(t,[c])},off:function(t,c){var r=e.get(t);r&&(c?r.splice(r.indexOf(c)>>>0,1):e.set(t,[]))},emit:function(t,c){var r=e.get(t);r&&r.slice().map((function(e){e(c)})),(r=e.get("*"))&&r.slice().map((function(e){e(t,c)}))}}},o=r();t["a"]=o},f892:function(e,t,c){}}]);
//# sourceMappingURL=chunk-05b04dec.48491a34.js.map